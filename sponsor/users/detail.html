<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ãƒ¦ãƒ¼ã‚¶è©³ç´° | LEADCAST</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Noto Sans', Helvetica, Arial, sans-serif;
            background-color: #f5f5f5;
            min-height: 100vh;
        }

        /* ãƒ˜ãƒƒãƒ€ãƒ¼ãƒ»ã‚µã‚¤ãƒ‰ãƒãƒ¼åŸºæœ¬ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ */
        .header-container, .sidebar-container {
            position: relative;
            z-index: 1000;
        }

        /* ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆèª¿æ•´ */
        .main-content {
            margin-left: 250px;
            margin-top: 70px;
            padding: 30px;
            min-height: calc(100vh - 70px);
            transition: margin-left 0.3s ease;
        }

        .main-content.sidebar-collapsed {
            margin-left: 50px;
        }

        /* ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–å¯¾å¿œ */
        @media (max-width: 1024px) {
            .main-content {
                margin-left: 0;
                margin-top: 70px;
            }
        }

        /* ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ */
        .breadcrumb {
            background: white;
            border-radius: 12px;
            padding: 15px 20px;
            margin-bottom: 20px;
            font-size: 14px;
            color: #718096;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }

        .breadcrumb a {
            color: #007acc;
            text-decoration: none;
        }

        .breadcrumb a:hover {
            text-decoration: underline;
        }

        /* ãƒ¦ãƒ¼ã‚¶æƒ…å ±ã‚»ã‚¯ã‚·ãƒ§ãƒ³ */
        .user-profile-section {
            background: white;
            border-radius: 12px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }

        .user-header {
            display: flex;
            align-items: center;
            gap: 20px;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }

        .user-avatar-large {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            background: #007acc;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 32px;
            font-weight: 700;
        }

        .user-basic-info h1 {
            font-size: 28px;
            font-weight: 700;
            color: #2d3748;
            margin-bottom: 8px;
        }

        .user-basic-info p {
            font-size: 16px;
            color: #718096;
            margin-bottom: 4px;
        }

        .user-status-badges {
            display: flex;
            gap: 10px;
            margin-top: 10px;
        }

        .status-badge {
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
            text-transform: uppercase;
        }

        .status-active {
            background: #c6f6d5;
            color: #22543d;
        }

        .status-inactive {
            background: #fed7d7;
            color: #c53030;
        }

        .role-badge {
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
            text-transform: uppercase;
        }

        .role-admin {
            background: #e6fffa;
            color: #234e52;
        }

        .role-manager {
            background: #e0e7ff;
            color: #3730a3;
        }

        .role-user {
            background: #f0f9ff;
            color: #0c4a6e;
        }

        .user-actions {
            margin-left: auto;
            display: flex;
            gap: 12px;
        }

        .btn {
            padding: 12px 20px;
            border: none;
            border-radius: 12px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .btn-primary {
            background: #007acc;
            color: white;
        }

        .btn-primary:hover {
            background: #005999;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 122, 204, 0.3);
        }

        .btn-secondary {
            background: #f7fafc;
            color: #4a5568;
            border: 2px solid #e2e8f0;
        }

        .btn-secondary:hover {
            background: #edf2f7;
            border-color: #cbd5e0;
        }

        .btn-danger {
            background: #fed7d7;
            color: #c53030;
            border: 2px solid #feb2b2;
        }

        .btn-danger:hover {
            background: #fbb6b6;
            border-color: #f56565;
        }

        /* è©³ç´°æƒ…å ±ã‚°ãƒªãƒƒãƒ‰ */
        .details-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-bottom: 30px;
        }

        .detail-card {
            background: white;
            border-radius: 12px;
            padding: 25px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }

        .card-title {
            font-size: 18px;
            font-weight: 600;
            color: #2d3748;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .info-group {
            margin-bottom: 20px;
        }

        .info-group:last-child {
            margin-bottom: 0;
        }

        .info-label {
            font-size: 14px;
            font-weight: 600;
            color: #4a5568;
            margin-bottom: 6px;
        }

        .info-value {
            font-size: 16px;
            color: #2d3748;
            padding: 8px 0;
            border-bottom: 1px solid #e2e8f0;
        }

        .editable-field {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .edit-input {
            flex: 1;
            padding: 8px 12px;
            border: 2px solid #e2e8f0;
            border-radius: 8px;
            font-size: 14px;
            margin-right: 10px;
        }

        .edit-input:focus {
            outline: none;
            border-color: #007acc;
        }

        .edit-btn {
            padding: 6px 12px;
            background: #e0e7ff;
            color: #3730a3;
            border: none;
            border-radius: 6px;
            font-size: 12px;
            cursor: pointer;
        }

        .save-btn {
            background: #c6f6d5;
            color: #22543d;
        }

        /* æ¨©é™è¨­å®š */
        .permission-list {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .permission-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px 16px;
            background: #f7fafc;
            border-radius: 8px;
        }

        .permission-info h4 {
            font-size: 14px;
            font-weight: 600;
            color: #2d3748;
            margin-bottom: 4px;
        }

        .permission-info p {
            font-size: 12px;
            color: #718096;
        }

        .permission-toggle {
            width: 48px;
            height: 24px;
            background: #cbd5e0;
            border-radius: 12px;
            position: relative;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }

        .permission-toggle.active {
            background: #007acc;
        }

        .permission-toggle::after {
            content: '';
            position: absolute;
            top: 2px;
            left: 2px;
            width: 20px;
            height: 20px;
            background: white;
            border-radius: 50%;
            transition: transform 0.3s ease;
        }

        .permission-toggle.active::after {
            transform: translateX(24px);
        }

        /* ã‚¢ã‚¯ãƒ†ã‚£ãƒ“ãƒ†ã‚£ãƒ­ã‚° */
        .activity-log {
            background: white;
            border-radius: 12px;
            padding: 25px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }

        .activity-item {
            display: flex;
            align-items: flex-start;
            gap: 15px;
            padding: 16px 0;
            border-bottom: 1px solid #e2e8f0;
        }

        .activity-item:last-child {
            border-bottom: none;
        }

        .activity-icon {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: #e0e7ff;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 16px;
            color: #3730a3;
        }

        .activity-content h4 {
            font-size: 14px;
            font-weight: 600;
            color: #2d3748;
            margin-bottom: 4px;
        }

        .activity-content p {
            font-size: 12px;
            color: #718096;
            margin-bottom: 4px;
        }

        .activity-time {
            font-size: 11px;
            color: #a0aec0;
        }

        /* ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ– */
        @media (max-width: 1024px) {
            .main-content {
                margin-left: 0;
                padding: 20px;
            }

            .details-grid {
                grid-template-columns: 1fr;
            }

            .user-header {
                flex-direction: column;
                align-items: flex-start;
            }

            .user-actions {
                margin-left: 0;
                width: 100%;
            }
        }

        @media (max-width: 768px) {
            .user-header {
                text-align: center;
                align-items: center;
            }

            .user-actions {
                flex-direction: column;
            }

            .btn {
                justify-content: center;
            }
        }

        @media (max-width: 480px) {
            .main-content {
                padding: 15px;
            }

            .user-profile-section,
            .detail-card,
            .activity-log {
                padding: 20px;
            }

            .user-avatar-large {
                width: 60px;
                height: 60px;
                font-size: 24px;
            }

            .user-basic-info h1 {
                font-size: 24px;
            }
        }
    </style>
</head>
<body>
    <!-- ãƒ˜ãƒƒãƒ€ãƒ¼ -->
    <div id="header-container"></div>

    <!-- ã‚µã‚¤ãƒ‰ãƒãƒ¼ -->
    <div id="sidebar-container"></div>

    <!-- ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ -->
    <main class="main-content" id="mainContent">
        <!-- ãƒ‘ãƒ³ããšãƒŠãƒ“ -->
        <div class="breadcrumb">
            <a href="index.html">ğŸ‘¥ ãƒ¦ãƒ¼ã‚¶ç®¡ç†</a> â€º <span id="breadcrumbUser">ç”°ä¸­ å¤ªéƒ</span>
        </div>

        <!-- ãƒ¦ãƒ¼ã‚¶ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ« -->
        <div class="user-profile-section">
            <div class="user-header">
                <div class="user-avatar-large" id="userAvatar">ç”°</div>
                <div class="user-basic-info">
                    <h1 id="userName">ç”°ä¸­ å¤ªéƒ</h1>
                    <p id="userEmail">tanaka@company.com</p>
                    <p>ãƒ¦ãƒ¼ã‚¶ID: <span id="userId">#001</span></p>
                    <div class="user-status-badges">
                        <span class="status-badge status-active" id="statusBadge">ã‚¢ã‚¯ãƒ†ã‚£ãƒ–</span>
                        <span class="role-badge role-admin" id="roleBadge">ç®¡ç†è€…</span>
                    </div>
                </div>
                <div class="user-actions">
                    <button class="btn btn-primary" onclick="editUser()">
                        <span>âœï¸</span>
                        <span>ç·¨é›†</span>
                    </button>
                    <button class="btn btn-secondary" onclick="resetPassword()">
                        <span>ğŸ”</span>
                        <span>ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãƒªã‚»ãƒƒãƒˆ</span>
                    </button>
                    <button class="btn btn-danger" onclick="deactivateUser()">
                        <span>â¸ï¸</span>
                        <span>ç„¡åŠ¹åŒ–</span>
                    </button>
                </div>
            </div>
        </div>

        <!-- è©³ç´°æƒ…å ± -->
        <div class="details-grid">
            <!-- åŸºæœ¬æƒ…å ± -->
            <div class="detail-card">
                <h3 class="card-title">ğŸ‘¤ åŸºæœ¬æƒ…å ±</h3>
                
                <div class="info-group">
                    <div class="info-label">æ°å</div>
                    <div class="info-value editable-field" id="nameField">
                        <span>ç”°ä¸­ å¤ªéƒ</span>
                        <button class="edit-btn" onclick="editField('name')">ç·¨é›†</button>
                    </div>
                </div>

                <div class="info-group">
                    <div class="info-label">ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹</div>
                    <div class="info-value editable-field" id="emailField">
                        <span>tanaka@company.com</span>
                        <button class="edit-btn" onclick="editField('email')">ç·¨é›†</button>
                    </div>
                </div>

                <div class="info-group">
                    <div class="info-label">é›»è©±ç•ªå·</div>
                    <div class="info-value editable-field" id="phoneField">
                        <span>090-1234-5678</span>
                        <button class="edit-btn" onclick="editField('phone')">ç·¨é›†</button>
                    </div>
                </div>

                <div class="info-group">
                    <div class="info-label">éƒ¨ç½²</div>
                    <div class="info-value editable-field" id="departmentField">
                        <span>ãƒãƒ¼ã‚±ãƒ†ã‚£ãƒ³ã‚°éƒ¨</span>
                        <button class="edit-btn" onclick="editField('department')">ç·¨é›†</button>
                    </div>
                </div>

                <div class="info-group">
                    <div class="info-label">å½¹è·</div>
                    <div class="info-value editable-field" id="positionField">
                        <span>éƒ¨é•·</span>
                        <button class="edit-btn" onclick="editField('position')">ç·¨é›†</button>
                    </div>
                </div>
            </div>

            <!-- ã‚¢ã‚«ã‚¦ãƒ³ãƒˆæƒ…å ± -->
            <div class="detail-card">
                <h3 class="card-title">ğŸ”§ ã‚¢ã‚«ã‚¦ãƒ³ãƒˆæƒ…å ±</h3>
                
                <div class="info-group">
                    <div class="info-label">ç™»éŒ²æ—¥</div>
                    <div class="info-value">2024å¹´1æœˆ15æ—¥</div>
                </div>

                <div class="info-group">
                    <div class="info-label">æœ€çµ‚ãƒ­ã‚°ã‚¤ãƒ³</div>
                    <div class="info-value">2024å¹´8æœˆ29æ—¥ 14:30</div>
                </div>

                <div class="info-group">
                    <div class="info-label">ãƒ­ã‚°ã‚¤ãƒ³å›æ•°</div>
                    <div class="info-value">1,247å›</div>
                </div>

                <div class="info-group">
                    <div class="info-label">2æ®µéšèªè¨¼</div>
                    <div class="info-value">
                        <span style="color: #22543d;">âœ… æœ‰åŠ¹</span>
                    </div>
                </div>

                <div class="info-group">
                    <div class="info-label">ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰æœ€çµ‚å¤‰æ›´</div>
                    <div class="info-value">2024å¹´7æœˆ20æ—¥</div>
                </div>
            </div>
        </div>

        <!-- æ¨©é™è¨­å®š -->
        <div class="detail-card">
            <h3 class="card-title">ğŸ” æ¨©é™è¨­å®š</h3>
            <div class="permission-list">
                <div class="permission-item">
                    <div class="permission-info">
                        <h4>ãƒ¦ãƒ¼ã‚¶ç®¡ç†</h4>
                        <p>ãƒ¦ãƒ¼ã‚¶ã®ä½œæˆã€ç·¨é›†ã€å‰Šé™¤æ¨©é™</p>
                    </div>
                    <div class="permission-toggle active" onclick="togglePermission(this)"></div>
                </div>

                <div class="permission-item">
                    <div class="permission-info">
                        <h4>ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç®¡ç†</h4>
                        <p>ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ä½œæˆã€ç·¨é›†ã€å‰Šé™¤æ¨©é™</p>
                    </div>
                    <div class="permission-toggle active" onclick="togglePermission(this)"></div>
                </div>

                <div class="permission-item">
                    <div class="permission-info">
                        <h4>è«‹æ±‚ç®¡ç†</h4>
                        <p>è«‹æ±‚æ›¸ã®é–²è¦§ã€ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰æ¨©é™</p>
                    </div>
                    <div class="permission-toggle" onclick="togglePermission(this)"></div>
                </div>

                <div class="permission-item">
                    <div class="permission-info">
                        <h4>ãƒ¬ãƒãƒ¼ãƒˆé–²è¦§</h4>
                        <p>å„ç¨®ãƒ¬ãƒãƒ¼ãƒˆã®é–²è¦§æ¨©é™</p>
                    </div>
                    <div class="permission-toggle active" onclick="togglePermission(this)"></div>
                </div>

                <div class="permission-item">
                    <div class="permission-info">
                        <h4>ã‚·ã‚¹ãƒ†ãƒ è¨­å®š</h4>
                        <p>ã‚·ã‚¹ãƒ†ãƒ å…¨ä½“ã®è¨­å®šå¤‰æ›´æ¨©é™</p>
                    </div>
                    <div class="permission-toggle active" onclick="togglePermission(this)"></div>
                </div>
            </div>
        </div>

        <!-- ã‚¢ã‚¯ãƒ†ã‚£ãƒ“ãƒ†ã‚£ãƒ­ã‚° -->
        <div class="activity-log">
            <h3 class="card-title">ğŸ“Š ã‚¢ã‚¯ãƒ†ã‚£ãƒ“ãƒ†ã‚£ãƒ­ã‚°</h3>
            
            <div class="activity-item">
                <div class="activity-icon">ğŸ”</div>
                <div class="activity-content">
                    <h4>ãƒ­ã‚°ã‚¤ãƒ³</h4>
                    <p>IP: 192.168.1.100 (æ±äº¬)</p>
                    <div class="activity-time">2024å¹´8æœˆ29æ—¥ 14:30</div>
                </div>
            </div>

            <div class="activity-item">
                <div class="activity-icon">ğŸ‘¥</div>
                <div class="activity-content">
                    <h4>ãƒ¦ãƒ¼ã‚¶ä½œæˆ</h4>
                    <p>æ–°è¦ãƒ¦ãƒ¼ã‚¶ã€Œä½è—¤ èŠ±å­ã€ã‚’ä½œæˆ</p>
                    <div class="activity-time">2024å¹´8æœˆ29æ—¥ 10:15</div>
                </div>
            </div>

            <div class="activity-item">
                <div class="activity-icon">ğŸ“Š</div>
                <div class="activity-content">
                    <h4>ãƒ¬ãƒãƒ¼ãƒˆå‡ºåŠ›</h4>
                    <p>æœˆæ¬¡å£²ä¸Šãƒ¬ãƒãƒ¼ãƒˆã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰</p>
                    <div class="activity-time">2024å¹´8æœˆ28æ—¥ 16:45</div>
                </div>
            </div>

            <div class="activity-item">
                <div class="activity-icon">âš™ï¸</div>
                <div class="activity-content">
                    <h4>è¨­å®šå¤‰æ›´</h4>
                    <p>é€šçŸ¥è¨­å®šã‚’æ›´æ–°</p>
                    <div class="activity-time">2024å¹´8æœˆ28æ—¥ 11:20</div>
                </div>
            </div>

            <div class="activity-item">
                <div class="activity-icon">ğŸ”</div>
                <div class="activity-content">
                    <h4>ãƒ­ã‚°ã‚¤ãƒ³</h4>
                    <p>IP: 192.168.1.100 (æ±äº¬)</p>
                    <div class="activity-time">2024å¹´8æœˆ28æ—¥ 09:30</div>
                </div>
            </div>
        </div>
    </main>

    <script>
        // URLãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’å–å¾—
        function getUrlParameters() {
            const params = new URLSearchParams(window.location.search);
            return {
                id: params.get('id'),
                isNew: params.get('new') === 'true',
                isEdit: params.get('edit') === 'true'
            };
        }

        // ãƒ¦ãƒ¼ã‚¶ãƒ‡ãƒ¼ã‚¿ï¼ˆå®Ÿéš›ã¯APIã‹ã‚‰å–å¾—ï¼‰
        const userData = {
            '001': {
                id: '001',
                name: 'ç”°ä¸­ å¤ªéƒ',
                email: 'tanaka@company.com',
                phone: '090-1234-5678',
                department: 'ãƒãƒ¼ã‚±ãƒ†ã‚£ãƒ³ã‚°éƒ¨',
                position: 'éƒ¨é•·',
                role: 'admin',
                status: 'active',
                joinDate: '2024-01-15',
                lastLogin: '2024-08-29 14:30'
            },
            '002': {
                id: '002',
                name: 'ä½è—¤ èŠ±å­',
                email: 'sato@company.com',
                phone: '090-2345-6789',
                department: 'å–¶æ¥­éƒ¨',
                position: 'èª²é•·',
                role: 'manager',
                status: 'active',
                joinDate: '2024-02-20',
                lastLogin: '2024-08-29 09:15'
            }
        };

        // ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆèª­ã¿è¾¼ã¿
        // ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆèª­ã¿è¾¼ã¿
        async function loadComponents() {
            try {
                // ãƒ˜ãƒƒãƒ€ãƒ¼ã‚’èª­ã¿è¾¼ã¿
                const headerResponse = await fetch('/sponsor/components/header.html');
                const headerHTML = await headerResponse.text();
                document.getElementById('header-container').innerHTML = headerHTML;

                // ã‚µã‚¤ãƒ‰ãƒãƒ¼ã‚’èª­ã¿è¾¼ã¿
                const sidebarResponse = await fetch('/sponsor/components/sidebar.html');
                const sidebarHTML = await sidebarResponse.text();
                document.getElementById('sidebar-container').innerHTML = sidebarHTML;

                // ãƒ¦ãƒ¼ã‚¶ç®¡ç†ãŒã‚¢ã‚¯ãƒ†ã‚£ãƒ–ã«ãªã‚‹ã‚ˆã†ã«ã‚µã‚¤ãƒ‰ãƒãƒ¼ã‚’æ›´æ–°
                setTimeout(() => {
                    updateSidebarActive();
                }, 100);
            } catch (error) {
                console.error('ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®èª­ã¿è¾¼ã¿ã‚¨ãƒ©ãƒ¼:', error);
            }
        }

        function updateSidebarActive() {
            const sidebarItems = document.querySelectorAll('.sidebar-item');
            sidebarItems.forEach(item => {
                item.classList.remove('active');
                if (item.href && item.href.includes('users.html')) {
                    item.classList.add('active');
                }
            });
        }

        // ãƒ¦ãƒ¼ã‚¶æƒ…å ±ã‚’èª­ã¿è¾¼ã¿
        function loadUserData() {
            const params = getUrlParameters();
            const user = userData[params.id] || userData['001'];

            document.getElementById('breadcrumbUser').textContent = user.name;
            document.getElementById('userAvatar').textContent = user.name.charAt(0);
            document.getElementById('userName').textContent = user.name;
            document.getElementById('userEmail').textContent = user.email;
            document.getElementById('userId').textContent = `#${user.id}`;

            // ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãƒãƒƒã‚¸æ›´æ–°
            const statusBadge = document.getElementById('statusBadge');
            statusBadge.className = `status-badge status-${user.status}`;
            statusBadge.textContent = user.status === 'active' ? 'ã‚¢ã‚¯ãƒ†ã‚£ãƒ–' : 'éã‚¢ã‚¯ãƒ†ã‚£ãƒ–';

            // ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¸æ›´æ–°
            const roleBadge = document.getElementById('roleBadge');
            roleBadge.className = `role-badge role-${user.role}`;
            const roleLabels = {
                'admin': 'ç®¡ç†è€…',
                'manager': 'ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼',
                'user': 'ä¸€èˆ¬ãƒ¦ãƒ¼ã‚¶'
            };
            roleBadge.textContent = roleLabels[user.role];

            // åŸºæœ¬æƒ…å ±ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰æ›´æ–°
            updateField('nameField', user.name);
            updateField('emailField', user.email);
            updateField('phoneField', user.phone);
            updateField('departmentField', user.department);
            updateField('positionField', user.position);
        }

        function updateField(fieldId, value) {
            const field = document.getElementById(fieldId);
            if (field) {
                const span = field.querySelector('span');
                if (span) span.textContent = value;
            }
        }

        // ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ç·¨é›†
        function editField(fieldType) {
            const fieldMapping = {
                'name': 'nameField',
                'email': 'emailField',
                'phone': 'phoneField',
                'department': 'departmentField',
                'position': 'positionField'
            };

            const fieldId = fieldMapping[fieldType];
            const field = document.getElementById(fieldId);
            const span = field.querySelector('span');
            const button = field.querySelector('button');
            const currentValue = span.textContent;

            // ç·¨é›†ãƒ¢ãƒ¼ãƒ‰ã«åˆ‡ã‚Šæ›¿ãˆ
            span.style.display = 'none';
            button.textContent = 'ä¿å­˜';
            button.className = 'edit-btn save-btn';

            const input = document.createElement('input');
            input.type = 'text';
            input.value = currentValue;
            input.className = 'edit-input';
            field.insertBefore(input, button);

            button.onclick = () => saveField(fieldId, fieldType, input.value);
        }

        function saveField(fieldId, fieldType, newValue) {
            const field = document.getElementById(fieldId);
            const span = field.querySelector('span');
            const button = field.querySelector('button');
            const input = field.querySelector('input');

            // å€¤ã‚’æ›´æ–°
            span.textContent = newValue;
            span.style.display = '';

            // ç·¨é›†ãƒ¢ãƒ¼ãƒ‰ã‚’çµ‚äº†
            input.remove();
            button.textContent = 'ç·¨é›†';
            button.className = 'edit-btn';
            button.onclick = () => editField(fieldType);

            alert(`${fieldType}ã‚’ã€Œ${newValue}ã€ã«æ›´æ–°ã—ã¾ã—ãŸ`);
        }

        // æ¨©é™åˆ‡ã‚Šæ›¿ãˆ
        function togglePermission(toggle) {
            toggle.classList.toggle('active');
        }

        // ãƒ¦ãƒ¼ã‚¶ã‚¢ã‚¯ã‚·ãƒ§ãƒ³
        function editUser() {
            alert('ãƒ¦ãƒ¼ã‚¶æƒ…å ±ã®ç·¨é›†ãƒ¢ãƒ¼ãƒ‰ã«åˆ‡ã‚Šæ›¿ãˆã¾ã™');
        }

        function resetPassword() {
            if (confirm('ã“ã®ãƒ¦ãƒ¼ã‚¶ã®ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’ãƒªã‚»ãƒƒãƒˆã—ã¾ã™ã‹ï¼Ÿ')) {
                alert('ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãƒªã‚»ãƒƒãƒˆãƒ¡ãƒ¼ãƒ«ã‚’é€ä¿¡ã—ã¾ã—ãŸ');
            }
        }

        function deactivateUser() {
            if (confirm('ã“ã®ãƒ¦ãƒ¼ã‚¶ã‚’ç„¡åŠ¹åŒ–ã—ã¾ã™ã‹ï¼Ÿ')) {
                alert('ãƒ¦ãƒ¼ã‚¶ã‚’ç„¡åŠ¹åŒ–ã—ã¾ã—ãŸ');
                
                // ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹æ›´æ–°
                const statusBadge = document.getElementById('statusBadge');
                statusBadge.className = 'status-badge status-inactive';
                statusBadge.textContent = 'éã‚¢ã‚¯ãƒ†ã‚£ãƒ–';
            }
        }

        // åˆæœŸåŒ–
        document.addEventListener('DOMContentLoaded', function() {
            loadComponents(); // ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’èª­ã¿è¾¼ã¿
            loadUserData();
        });
    </script>
</body>
</html>
